# Data Link Control(DLC)
- 인접한 두개의 노드 간의 의사소통에 대한 절차(link가 dedicated인지 broadcast인지 상관없음)
- framing, flow error control
## Framing
- Data-link layer가 bit들을 프레임 단위로 pack 해야함, frame은 서로 구별 가능해야 함
- Data-link layer가 sender address, destination address 추가
### Frame Size
- 모든 메세지가 한 frame으로 팩 될 수 있지만, 일반적으로 안 그럼
- 프레임 사이즈카 크면 비트 하나만 틀려도 전체를 다 재송신해야함
- Fixed Size Framing : 고정 사이즈 ex) ATM WAN
- Variable Size Framing : 변화하는 사이즈, 프레임의 끝과 다음 프레임의 시작을 정의 할 수 있어야 함
#### Character Oriented Framing(Byte Oriented Framing)
- Flag(1 Byte)를 넣어서 프레임의 start/end에 삽입해서 프레임들을 구분
- 플래그는 protocol-dependent special chracter로 구성
- Flag / Header / Data from upper layer / Trailer / Flag
- Data의 일부가 될 수 있는 문자를 플래그로 사용하는 경우, receiver가 Data를 읽는도중 Flag를 만난줄알고 끝내버릴수있음
  -> Escape Character(ESC)를 이용해서 데이터에서 해당 문자가 나오면 앞에 삽입(Stuffing)
- Escape Character가 연속적으로 들어오는 경우는?
  -> 다른 ESC로 표시
#### Bit Oriented Programming
- special pattern flag 01111110로 시작과 끝을 표현
- data에서 해당플래그가 나타나는 경우?
  -> 연속으로 1이 5개 나올경우 0하나를 다음에 삽입(Stuffing)

## Flow & Error Control
- sender가 너무 빨리 데이터 송신하지 않도록 확인
- rate of produced frames in sender > rate of consumed frames in receiver
  -> receiving end에서 프레임들을 버퍼링 해줘야함
- 버퍼의 크기가 제한적
  -> Discard : 버퍼가 가득차면 프레임을 드랍
  -> Feedback : sender의 data link layer에게 멈추거나 느리게 하라고 피드백 발송(ACK)
- Flow와 Error 컨트롤은 합쳐질수있음(ACK를 보낼 때 관련정보를 같이 보낼 수 있음)
- DLC는 Connectionless 하거나 Connection-oriented이거나 둘중에 하나임

## DLC Protocols
- flow and error control을 위해 사용하는 프로토콜들
- Simple, Stop and wait, Go Back N(현재는 사라짐), Selective-Repeat(현재는 사라짐)
### Simple Protocol
- flow, error control 둘다 아닌 간단한 프로토콜
- receiver가 어떤 프레임이든 즉각적으로 handle 할 수 있다고 가정
- sender가 receiver 신경 안쓰고 준비 되는대로 막 보냄
### Stop-And-Wait Protocol
- flow + error control 둘다
- sender가 한번에 하나의 프레임만 보내고, receiver로부터 ACK가 돌아오기를 기다림
- 데이터가 제대로 보내졌는지 확인하기위해 CRC를 데이터 프레임에 각각 넣어줘야 함
- 데이터를 제대로 받았다는 뜻의 ACK가 송신실패 했을 경우? -> sequence를 넣어서 확인
