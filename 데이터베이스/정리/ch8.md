# 관계 데이터 제약

## 기본키

### 키

- 튜플을 유일하게 식별 할 수 있는 애트리뷰트의 집합

- 후보키 : 릴레이션 R에 대한 애트리뷰트 집합 A,K에 대하여 K ⊆ A인 K가
  - 유일성 : K의 값이 유일하다
  - 최소성 : K는 튜플을 유일하게 식별하기 위해 필요한 최소의 애트리뷰트로 구성된다
- 슈퍼키 : 유일성은 만족하지만, **최소성을 보장하지는 않는** 키의 집합
- 기본키 : 후보키 중 데이터베이스 설계자가 **선정**하는 하나의 키(Minimal Super Key)
- 대체키 : 후보키 중 기본키를 제외한 나머지 후보키

### 외래키

- 릴레이션 R_1에 속한 애트리뷰트(집합) FK가 릴레이션 R_2의 기본 키(PK)일 때 FK는 R_1의 외래키이다

- FK의 도메인 = R_2의 기본키의 도메인
- FK의 값은 R_2에 존재하는 값이거나 NULL이다
- R_1과 R_2가 반드시 다른 릴레이션일 필요는 없음
- R_1을 참조 릴레이션 / 자식 테이블, R_2를 참조된 릴레이션/부모 테이블 이라고 함
- 화살표는 R_1에서 R_2로 향하게

### 무결성 제약

- 개체 무결성 : 기본키는 Unique해야하며, NULL값을 가질 수 없다
- 참조 무결성 : 외래키의 값은 부모 테이블의 기본키 값과 같거나 NULL이다
- NULL 값 : 모르는 값이거나, 해당없거나 -> 무결성 제약에서는 공백도 NULL로 해석
- 데이터베이스 상태 
  - **어느 시점에** 데이터베이스에 저장된 데이터를 의미
  - DBMS는 데이터베이스 상태의 변환에도 무결성 제약을 만족시켜야 함
  - 개체 / 참조 무결성 제약은 데이터베이스 상태가 항상 만족해야 할 기본 규칙