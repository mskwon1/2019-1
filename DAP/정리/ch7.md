# 입력과 출력

## 입력

### 키보드

- 입력 데이터가 아주 적을 때
  - c() 함수를 이용해 직접 입력
- R에서 제공하는 데이터 편집기 이용
  - edit() 함수 이용 : edit(데이터프레임)으로 켜기
    - 스프레드시트를 사용하듯이 사용가능, 변수 이름/유형 변경이 쉬움
    - 입력내용이 변수로 저장됨 : dataframe <- edit(dataframe) 또는 fix(dataframe)

- 클립보드에서 읽어오기
  - 엑셀의 셀들을 선택해 복사
  - readClipboard()함수 호출
  - 두개 이상의 행/열을 읽어올때는 \t가 포함된 형태로 데이터들을 불러옴
    - read.table() 함수 이용
    - read.table(file="clipboard", sep="\t", header = TRUE)
    - 세퍼레이터를 \t로, 헤더가 있음을 TRUE로 표현
    - text인수도 사용가능(텍스트벡터 형식의 데이터 불러오기) : text = mytxt

### 파일

- 대량의 데이터를 다룰 때 적합한 방법

- CSV(Comma-Separated Value) 형식 : 데이터 입력 파일 중 가장 보편적으로 사용되는 형식

  - 쉼표를 이용해 데이터요소를 구분
  - 각 라인은 하나의 행, 쉼표로 구분된 데이터 항목들로 구성
  - read.csv() 함수 : 첫번 째 인수(file)로 주어진 CSV 파일을 읽어들여 데이터프레임 생성
    - 지정되지 않으면 해당 CSV에 **헤더가 포함**되어있다고 가정(header = TRUE)
    - 지정되지 않으면 구분자는 콤마(sep =",")
    - 지정되지 않으면  문자를 모두 Factor로 변환
      - stringsAsFactors = FALSE / as.is =TRUE 옵션 이용

- 테이블 형식

  - 각 라인은 하나의 레코드로 구성, 필드들이 구분자에 의해 구별
  - 각 레코드는 동일한 개수의 필드를 가짐

  - read.csv 함수와 유사하지만, read.table이 좀 더 다양한 옵션 제공
    - 지정되지 않으면 **헤더가 없다**고 가정(header = FALSE)
    - 지정되지 않으면 문자를 모두 Factor로 변환
      - stringsAsFactors = FALSE 옵션 이용
    - 지정되지 않으면 구분자는 공백(sep = " ")
    - NA를 결측값으로 간주 -> 다른 문자로 결측값을 나타낼거라면 na.strings에 해당 문자 기입
    - 파일을 읽어들일 때 #으로 시작하는 라인은 **주석**으로 생각
    - row.names 옵션으로 **행이름** 지정가능
    - colClasses 옵션으로 각 열의 클래스 지정가능
  - read.fwf 함수 : 고정된 길이로 데이터 필드를 구분
    - widths 인수 : 각 데이터 필드의 길이 차레대로 지정
      - 음수일시 해당숫자만큼의 열을 건너뜀
      - 0일시 결측값으로 채워짐
    - col.names 인수 : 각 열의 이름 지정

- 데이터 구조가 복잡하거나 불규칙적일 때

  - readLines() 함수 : 라인 단위로 데이터를 읽어와 문자 벡터 반환

    - con 인수 : 읽어들일 파일 이름 지정
    - n 인수 : 읽어들일 라인 개수 지정

  - scan() : readLines 보다 풍부한 기능 제공, 데이터 항목 단위로 데이터 처리

    - file 인수 : 읽어들일 파일 이름 지정

    - what 인수 : 읽어들일 데이터 항목의 유형 지정 -> 반복적 사용

      - ex) numeric(0), integer(0), complex(0), character(0), logical(0)

      - 리스트 형식으로 지정가능 -> 각자의 순서에 맞는 원소에 저장이 됨

    - nlines 인수 : 읽어들일 라인 개수 지정

    - skip 인수 : 읽지않고 건너 뛸 라인의 개수 지정

- 엑셀 파일로부터 직접 읽어들이기 : 패키지 설치 필요

  - openxlsx 패키지의 read.xlsx()
    - xlsxFile 인수 : 엑셀 파일 지정
    - sheet 인수 : 읽어들일 워크시트 번호 지정
    - colNames 인수 : 변수 이름 어떡할지 지정, 기본값은 TRUE(첫 행을 변수 이름으로 사용)

### 웹사이트

- 웹상의 데이터를 읽어들이는 다양한 방법 제공
- HTTP 뿐만 아니라 FTP 서버도 포함 가능
- read.csv(), read.table()의 파일 인수에 url을 집어넣으면 됨

- download.file() 함수 : 파일을 컴퓨터로 다운로드해 사용
  - url 인수 :  URL 지정
  - destfile 인수 : 저장할 파일 이름 지정
  - 바이너리 모드 (mode = "wb")를 지정해 노래를 다운로드 해와서 틀어 볼 수도 있음
    - load.wav(), play()함수 이용
- 받아오는 파일이 압축파일일시 unzip() 함수 이용
  - zipfile : 압축파일이름 지정
  - 두번째 인수 : 압축 해제할 파일 이름 지정
- 일시적으로만 사용하고자 할 경우 : tempfile()로 임시파을 생성하고 unlink()이용 임시파일 삭제